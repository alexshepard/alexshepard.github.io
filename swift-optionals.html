<!DOCTYPE html>
<html lang="en">
<head>
        <title>Alex's Blog : Swift Optionals</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://alexshepard.github.io/theme/css/main.css" type="text/css" />
        <link href="https://alexshepard.github.io/None" type="application/atom+xml" rel="alternate" title="Alex's Blog ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://alexshepard.github.io/css/ie.css"/>
                <script src="https://alexshepard.github.io/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://alexshepard.github.io/css/ie6.css"/><![endif]-->

</head>

<body>
        
<header>
    <h1><a href="https://alexshepard.github.io" id="site-title">Alex's Blog </a> :
        <a href="https://alexshepard.github.io/swift-optionals.html" id="page-title">Swift Optionals</a></h1>
<time datetime="2020-02-20T13:46:16-08:00">Thu 20 February 2020</time></header>
<article>
    <p>Today I'm doing <a href="https://www.hackingwithswift.com/100">100 Days of Swift</a> at 36,000 feet, flying from SF to New York, to go to a retreat with the Visipedia folks at Cornell Tech. The good news is that there's free WiFi on the flight, so I was able to watch the youtube videos. The bad news is that the 100 Days of Swift website is blocked, perhaps because of the word "hack" in the domain name? C'mon JetBlue, that's just silly.</p>
<p>Today we covered Optionals, another fun core Swift feature. Cool to see the failable initializer syntax, that seems to be used heavily in <code>Decodable</code> and I could probably find a use for it in iNat.</p>
<p>Something I'd forgotten about is nil coalescing, which I can show off here, using a tidbit of my <code>Taxon</code> example from yesterday.</p>
<div class="highlight"><pre><span></span><code><span class="kd">protocol</span> <span class="nc">Taxon</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">scientificName</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span> <span class="kr">get</span> <span class="kr">set</span> <span class="p">}</span>
    <span class="kd">var</span> <span class="nv">commonName</span><span class="p">:</span> <span class="nb">String</span><span class="p">?</span> <span class="p">{</span> <span class="kr">get</span> <span class="kr">set</span> <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">name</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="nc">Taxon</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">name</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">commonName</span> <span class="p">??</span> <span class="n">scientificName</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>And there's the optional try syntax, which seems like a nice way to simplify error handling code without the entire do/try/catch syntax.</p>
<div class="highlight"><pre><span></span><code><span class="kd">enum</span> <span class="nc">BrewError</span><span class="p">:</span> <span class="n">Error</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">FillWater</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nc">CoffeeMachine</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">name</span><span class="p">:</span> <span class="nb">String</span>
    <span class="kd">var</span> <span class="nv">waterLevel</span><span class="p">:</span> <span class="nb">Double</span>
    <span class="kd">func</span> <span class="nf">brew</span><span class="p">()</span> <span class="kr">throws</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">waterLevel</span> <span class="o">&lt;</span> <span class="mf">0.3</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="n">BrewError</span><span class="p">.</span><span class="n">FillWater</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s">&quot;A Nice Cuppa&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">marzocco</span> <span class="p">=</span> <span class="n">CoffeeMachine</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="s">&quot;La Marzocco&quot;</span><span class="p">,</span> <span class="n">waterLevel</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="k">if</span> <span class="kd">let</span> <span class="nv">cup</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">marzocco</span><span class="p">.</span><span class="n">brew</span><span class="p">()</span> <span class="p">{</span>
    <span class="bp">print</span><span class="p">(</span><span class="n">cup</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;No coffee today&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>No iPad annoyances today, just the odd WiFi. Which also doesn't allow <code>ssh</code>, so no blog update until I reach NYC.</p>
</article>

        <footer>
            <nav>
                <ul>
                    <li>:: <a href="https://alexshepard.github.io/categories.html">Categories</a></li>
                    <li>:: <a href="https://alexshepard.github.io/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Th√®me mnmlist</a></p>
        </footer>

</body>
</html>