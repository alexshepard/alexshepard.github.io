
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="/theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/solid.css">



  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#333">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#333">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#333">




 

<meta name="author" content="alex" />
<meta name="description" content="Today I&#39;m doing 100 Days of Swift at 36,000 feet, flying from SF to New York, to go to a retreat with the Visipedia folks at Cornell Tech. The good news is that there&#39;s free WiFi on the flight, so I was able to watch the youtube videos. The …" />
<meta name="keywords" content="swift">


  <meta property="og:site_name" content="Alex's Blog"/>
  <meta property="og:title" content="Swift Optionals"/>
  <meta property="og:description" content="Today I&#39;m doing 100 Days of Swift at 36,000 feet, flying from SF to New York, to go to a retreat with the Visipedia folks at Cornell Tech. The good news is that there&#39;s free WiFi on the flight, so I was able to watch the youtube videos. The …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="/swift-optionals.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2020-02-20 13:46:16-08:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="/author/alex.html">
  <meta property="article:section" content="swift"/>
  <meta property="article:tag" content="swift"/>
  <meta property="og:image" content="/images/alex_pixel_avatar.jpg">

  <title>Alex's Blog &ndash; Swift Optionals</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="/">
      <img src="/images/alex_pixel_avatar.jpg" alt="Alex" title="Alex">
    </a>

    <h1>
      <a href="/">Alex</a>
    </h1>

    <p>Machine Learning, Art, and other stuff</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_self" href="https://www.inaturalist.org/users/alexshepard" >inat</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="https://github.com/alexshepard/"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="/">Home</a>

  <a href="/archives.html">Archives</a>
  <a href="/categories.html">Categories</a>
  <a href="/tags.html">Tags</a>


</nav>

<article class="single">
  <header>
      
    <h1 id="swift-optionals">Swift Optionals</h1>
    <p>
      Posted on Thu 20 February 2020 in <a href="/category/swift.html">swift</a>

    </p>
  </header>


  <div>
    <p>Today I'm doing <a href="https://www.hackingwithswift.com/100">100 Days of Swift</a> at 36,000 feet, flying from SF to New York, to go to a retreat with the Visipedia folks at Cornell Tech. The good news is that there's free WiFi on the flight, so I was able to watch the youtube videos. The bad news is that the 100 Days of Swift website is blocked, perhaps because of the word "hack" in the domain name? C'mon JetBlue, that's just silly.</p>
<p>Today we covered Optionals, another fun core Swift feature. Cool to see the failable initializer syntax, that seems to be used heavily in <code>Decodable</code> and I could probably find a use for it in iNat.</p>
<p>Something I'd forgotten about is nil coalescing, which I can show off here, using a tidbit of my <code>Taxon</code> example from yesterday.</p>
<div class="highlight"><pre><span></span><code><span class="kd">protocol</span> <span class="nc">Taxon</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">scientificName</span><span class="p">:</span> <span class="nb">String</span> <span class="p">{</span> <span class="kr">get</span> <span class="kr">set</span> <span class="p">}</span>
    <span class="kd">var</span> <span class="nv">commonName</span><span class="p">:</span> <span class="nb">String</span><span class="p">?</span> <span class="p">{</span> <span class="kr">get</span> <span class="kr">set</span> <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">name</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="nc">Taxon</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">name</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">commonName</span> <span class="p">??</span> <span class="n">scientificName</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>And there's the optional try syntax, which seems like a nice way to simplify error handling code without the entire do/try/catch syntax.</p>
<div class="highlight"><pre><span></span><code><span class="kd">enum</span> <span class="nc">BrewError</span><span class="p">:</span> <span class="n">Error</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">FillWater</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nc">CoffeeMachine</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">name</span><span class="p">:</span> <span class="nb">String</span>
    <span class="kd">var</span> <span class="nv">waterLevel</span><span class="p">:</span> <span class="nb">Double</span>
    <span class="kd">func</span> <span class="nf">brew</span><span class="p">()</span> <span class="kr">throws</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">waterLevel</span> <span class="o">&lt;</span> <span class="mf">0.3</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="n">BrewError</span><span class="p">.</span><span class="n">FillWater</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s">&quot;A Nice Cuppa&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">marzocco</span> <span class="p">=</span> <span class="n">CoffeeMachine</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="s">&quot;La Marzocco&quot;</span><span class="p">,</span> <span class="n">waterLevel</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="k">if</span> <span class="kd">let</span> <span class="nv">cup</span> <span class="p">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">marzocco</span><span class="p">.</span><span class="n">brew</span><span class="p">()</span> <span class="p">{</span>
    <span class="bp">print</span><span class="p">(</span><span class="n">cup</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="bp">print</span><span class="p">(</span><span class="s">&quot;No coffee today&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>No iPad annoyances today, just the odd WiFi. Which also doesn't allow <code>ssh</code>, so no blog update until I reach NYC.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/swift.html">swift</a>
    </p>
  </div>






</article>

<footer>
<p>&copy; 2024 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Alex's Blog ",
  "url" : "",
  "image": "/images/alex_pixel_avatar.jpg",
  "description": ""
}
</script>
</body>
</html>