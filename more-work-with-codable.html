
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="/theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/solid.css">



  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#333">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#333">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#333">




 

<meta name="author" content="alex" />
<meta name="description" content="Yay, another easy day of 100 Days of SwiftUI! I&#39;m on day 40, that seems like a lot of days. Only one thing was really new to me technically: using a DateFormatter to make a custom .dateDecodingStrategy for JSONDecoder is kinda cool, for those times when you can&#39;t just use …" />
<meta name="keywords" content="swift, swiftui, generative-art">


  <meta property="og:site_name" content="Alex's Blog"/>
  <meta property="og:title" content="More Work with Codable"/>
  <meta property="og:description" content="Yay, another easy day of 100 Days of SwiftUI! I&#39;m on day 40, that seems like a lot of days. Only one thing was really new to me technically: using a DateFormatter to make a custom .dateDecodingStrategy for JSONDecoder is kinda cool, for those times when you can&#39;t just use …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="/more-work-with-codable.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2021-07-12 17:20:00-07:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="/author/alex.html">
  <meta property="article:section" content="swift"/>
  <meta property="article:tag" content="swift"/>
  <meta property="article:tag" content="swiftui"/>
  <meta property="article:tag" content="generative-art"/>
  <meta property="og:image" content="/images/alex_pixel_avatar.jpg">

  <title>Alex's Blog &ndash; More Work with Codable</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="/">
      <img src="/images/alex_pixel_avatar.jpg" alt="Alex" title="Alex">
    </a>

    <h1>
      <a href="/">Alex</a>
    </h1>

    <p>Machine Learning, Art, and other stuff</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_self" href="https://www.inaturalist.org/users/alexshepard" >inat</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="https://github.com/alexshepard/"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="/">Home</a>

  <a href="/archives.html">Archives</a>
  <a href="/categories.html">Categories</a>
  <a href="/tags.html">Tags</a>


</nav>

<article class="single">
  <header>
      
    <h1 id="more-work-with-codable">More Work with Codable</h1>
    <p>
      Posted on Mon 12 July 2021 in <a href="/category/swift.html">swift</a>

    </p>
  </header>


  <div>
    <p>Yay, another easy day of <a href="https://www.hackingwithswift.com/100/swiftui">100 Days of SwiftUI</a>! I'm on day 40, that seems like a lot of days.</p>
<p>Only one thing was really new to me technically: using a <code>DateFormatter</code> to make a custom <code>.dateDecodingStrategy</code> for <code>JSONDecoder</code> is kinda cool, for those times when you can't just use the <code>.iso8601</code> strategy.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">decoder</span> <span class="p">=</span> <span class="n">JSONDecoder</span><span class="p">()</span>
<span class="kd">let</span> <span class="nv">formatter</span> <span class="p">=</span> <span class="n">DateFormatter</span><span class="p">()</span>
<span class="n">formatter</span><span class="p">.</span><span class="n">dateFormat</span> <span class="p">=</span> <span class="s">&quot;y-MM-dd&quot;</span>
<span class="n">decoder</span><span class="p">.</span><span class="n">dateDecodingStrategy</span> <span class="p">=</span> <span class="p">.</span><span class="n">formatted</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
</code></pre></div>

<p>But more generally, the approach of stashing a bunch of JSON in the app and using an extension on <code>Bundle</code> to decode it is super helpful. I've been considering how best to add Preview Content to one of my apps for UI development and experimentation, when the content is typically delivered via an API. After today's session I have a pretty good idea of how I'll be doing it in my personal projects for now at least: stash copies of server responses into Preview Content and then use an extension on Bundle to quickly decode them for the preview.</p>
<p>Other things I learned yesterday? While doing <a href="https://github.com/alexshepard/generativeart">Generative Art</a> experiments in Swift, after struggling with the lack of c-style for loops, I settled on using <code>stride()</code> to loop over a range with a step size:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">gridY</span> <span class="k">in</span> <span class="bp">stride</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">through</span><span class="p">:</span> <span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="n">stepY</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">gridX</span> <span class="k">in</span> <span class="bp">stride</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">through</span><span class="p">:</span> <span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="n">stepX</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// draw something in this grid square</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><img src="/images/color_spectrum_grid.png" alt="Color Spectrum Grid" width="400" /></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/swift.html">swift</a>
      <a href="/tag/swiftui.html">swiftui</a>
      <a href="/tag/generative-art.html">generative-art</a>
    </p>
  </div>






</article>

<footer>
<p>&copy; 2024 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Alex's Blog ",
  "url" : "",
  "image": "/images/alex_pixel_avatar.jpg",
  "description": ""
}
</script>
</body>
</html>