<!DOCTYPE html>
<html lang="en">
<head>
        <title>Alex's Blog : More Work with Codable</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://alexshepard.github.io/theme/css/main.css" type="text/css" />
        <link href="https://alexshepard.github.io/None" type="application/atom+xml" rel="alternate" title="Alex's Blog ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://alexshepard.github.io/css/ie.css"/>
                <script src="https://alexshepard.github.io/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://alexshepard.github.io/css/ie6.css"/><![endif]-->

</head>

<body>
        
<header>
    <h1><a href="https://alexshepard.github.io" id="site-title">Alex's Blog </a> :
        <a href="https://alexshepard.github.io/more-work-with-codable.html" id="page-title">More Work with Codable</a></h1>
<time datetime="2021-07-12T17:20:00-07:00">Mon 12 July 2021</time></header>
<article>
    <p>Yay, another easy day of <a href="https://www.hackingwithswift.com/100/swiftui">100 Days of SwiftUI</a>! I'm on day 40, that seems like a lot of days.</p>
<p>Only one thing was really new to me technically: using a <code>DateFormatter</code> to make a custom <code>.dateDecodingStrategy</code> for <code>JSONDecoder</code> is kinda cool, for those times when you can't just use the <code>.iso8601</code> strategy.</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nv">decoder</span> <span class="p">=</span> <span class="n">JSONDecoder</span><span class="p">()</span>
<span class="kd">let</span> <span class="nv">formatter</span> <span class="p">=</span> <span class="n">DateFormatter</span><span class="p">()</span>
<span class="n">formatter</span><span class="p">.</span><span class="n">dateFormat</span> <span class="p">=</span> <span class="s">&quot;y-MM-dd&quot;</span>
<span class="n">decoder</span><span class="p">.</span><span class="n">dateDecodingStrategy</span> <span class="p">=</span> <span class="p">.</span><span class="n">formatted</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
</code></pre></div>

<p>But more generally, the approach of stashing a bunch of JSON in the app and using an extension on <code>Bundle</code> to decode it is super helpful. I've been considering how best to add Preview Content to one of my apps for UI development and experimentation, when the content is typically delivered via an API. After today's session I have a pretty good idea of how I'll be doing it in my personal projects for now at least: stash copies of server responses into Preview Content and then use an extension on Bundle to quickly decode them for the preview.</p>
<p>Other things I learned yesterday? While doing <a href="https://github.com/alexshepard/generativeart">Generative Art</a> experiments in Swift, after struggling with the lack of c-style for loops, I settled on using <code>stride()</code> to loop over a range with a step size:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">gridY</span> <span class="k">in</span> <span class="bp">stride</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">through</span><span class="p">:</span> <span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="n">stepY</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">gridX</span> <span class="k">in</span> <span class="bp">stride</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">through</span><span class="p">:</span> <span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="n">stepX</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// draw something in this grid square</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><img alt="Color Spectrum Grid" src="/images/color_spectrum_grid.png"></p>
</article>

        <footer>
            <nav>
                <ul>
                    <li>:: <a href="https://alexshepard.github.io/categories.html">Categories</a></li>
                    <li>:: <a href="https://alexshepard.github.io/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Th√®me mnmlist</a></p>
        </footer>

</body>
</html>