<!DOCTYPE html>
<html lang="en">
<head>
        <title>Alex's Blog : SwiftUI Project 5, Day 3</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://alexshepard.github.io/theme/css/main.css" type="text/css" />
        <link href="https://alexshepard.github.io/None" type="application/atom+xml" rel="alternate" title="Alex's Blog ATOM Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://alexshepard.github.io/css/ie.css"/>
                <script src="https://alexshepard.github.io/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://alexshepard.github.io/css/ie6.css"/><![endif]-->

</head>

<body>
        
<header>
    <h1><a href="https://alexshepard.github.io" id="site-title">Alex's Blog </a> :
        <a href="https://alexshepard.github.io/swiftui-project-5-day-3.html" id="page-title">SwiftUI Project 5, Day 3</a></h1>
<time datetime="2021-07-03T12:27:00-07:00">Sat 03 July 2021</time></header>
<article>
    <p>One more <a href="https://www.hackingwithswift.com/100/swiftui">100 Days of SwiftUI</a> project in the books today.</p>
<p>The most interesting bit of the challenges for Project 5 was calculating the score - for me it seemed like a case for using swift's <code>reduce</code> function. I don't do a lot of functional programming (any, really) so I don't remember the syntax and I also don't really remember the mental model for how the functions work. But after a quick look at the docs for <code>Array.reduce</code> I came up with:</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span> <span class="kd">var</span> <span class="nv">score</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">usedWords</span><span class="p">.</span><span class="bp">reduce</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span> <span class="n">sum</span><span class="p">,</span> <span class="n">word</span> <span class="k">in</span>
        <span class="n">sum</span> <span class="o">+</span> <span class="n">word</span><span class="p">.</span><span class="bp">count</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre></div>

<p>where usedWords is an array of Strings.</p>
<p>I also immediately wanted to add a persistent high scores feature to this game. I'm sure we'll be getting to data persistence with Core Data (or I suppose wrapping UserDefaults) eventually, so I just made a non-persistent version for now, with an <code>@EnvironmentObject</code> that gets created by our game's <code>ContentView</code> and stuffed into the environment with the <code>.environmentObject()</code> modifier. Then all we have to do is keep it up to date as the user plays the game and read it out of the environment in our high score list when the user presents that sheet. Fun!</p>
</article>

        <footer>
            <nav>
                <ul>
                    <li>:: <a href="https://alexshepard.github.io/categories.html">Categories</a></li>
                    <li>:: <a href="https://alexshepard.github.io/tags.html">Tags</a></li>
                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Th√®me mnmlist</a></p>
        </footer>

</body>
</html>